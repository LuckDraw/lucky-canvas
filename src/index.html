<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lucky-canvas</title>
</head>
<body>
  <div id="myLucky"></div>
  <script>
    const myLucky = new LuckyCanvas.LuckyWheel({
      el: '#myLucky', // 传递dom元素标识
      width: '300px', // 抽奖组件的宽
      height: '300px', // 抽奖组件的高
    }, {
      blocks: [ // 背景
        { padding: '13px', background: '#d64737' }
      ],
      prizes: [ // 奖品
        {
          name: '1元红包', background: '#f9e3bb',
          fonts: [{ text: '1元红包', top: '18%' }]
        },
        {
          name: '100元红包', background: '#f8d384',
          fonts: [{ text: '100元红包', top: '18%' }]
        },
        {
          name: '0.5元红包', background: '#f9e3bb',
          fonts: [{ text: '0.5元红包', top: '18%' }]
        },
        {
          name: '2元红包', background: '#f8d384',
          fonts: [{ text: '2元红包', top: '18%' }]
        },
        {
          name: '10元红包', background: '#f9e3bb',
          fonts: [{ text: '10元红包', top: '18%' }]
        },
        {
          name: '50元红包', background: '#f8d384',
          fonts: [{ text: '50元红包', top: '18%' }]
        },
      ],
      buttons: [ // 按钮
        { radius: '50px', background: '#d64737' },
        { radius: '45px', background: '#fff' },
        { radius: '41px', background: '#f6c66f', pointer: true },
        {
          radius: '35px', background: '#ffdea0',
          fonts: [{ text: '开始\n抽奖', fontSize: '18px', top: -18 }]
        }
      ],
      defaultStyle: { // 默认样式
        fontColor: '#d64737',
        fontSize: '14px'
      },
      start: function () { // 游戏开始的回调方法
        // 调用play方法开始旋转
        myLucky.play()
        // 用定时器模拟请求接口
        setTimeout(function () {
          // 3s 后得到中奖索引
          const index = Math.random() * 6 >> 0
          // 调用stop方法然后缓慢停止
          myLucky.stop(index)
        }, 3000)
      },
      end: function (prize) { // 游戏结束的回调方法
        // 中奖奖品详情
        console.log(prize)
      }
    })
  </script>
</body>
</html>